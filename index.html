<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="websiteTitle">Tee & Me - Our Story</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next@23.7.16/dist/umd/i18next.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next-browser-languagedetector@7.2.0/dist/umd/i18nextBrowserLanguageDetector.min.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            color: #374151;
            background-color: #e5e7eb;
        }
        #videoBackground {
            position: fixed;
            right: 0; bottom: 0;
            min-width: 100%; min-height: 100%;
            width: auto; height: auto;
            z-index: -1000;
            background-size: cover;
            filter: blur(6px) brightness(0.5);
            object-fit: cover;
        }
        .main-container { display: flex; flex-direction: column; height: 100vh; width: 100vw; position: relative; z-index: 1; }
        header, nav {
            background-color: rgba(255,255,255,0.96);
            backdrop-filter: blur(12px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
            position: fixed; left: 0; width: 100%;
        }
        header { top: 0; z-index: 1000; }
        nav { top: 56px; z-index: 999; }
        nav .container {
            overflow-x: auto; display: flex; justify-content: center; align-items: center; height: 100%; padding: 0 0.5rem;
            scrollbar-width: none;
        }
        nav .container::-webkit-scrollbar { display: none; }
        .nav-button {
            transition: all 0.25s ease;
            border-bottom: 3px solid transparent;
            white-space: nowrap;
            padding: 0.65rem 0.8rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            color: #4b5563;
            background: none;
            outline: none;
        }
        .nav-button.active-nav, .nav-button:hover {
            color: #a80038;
            border-bottom-color: #a80038;
        }
        .content-area-wrapper {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 112px; /* header + nav height */
            overflow: hidden;
            width: 100%;
        }
        .content-area {
            width: calc(100% - 1rem);
            max-width: 1700px;
            height: calc(100% - 1rem);
            margin: 0.5rem;
            background-color: rgba(254, 247, 247, 0.96);
            border-radius: 0.875rem;
            box-shadow: 0 18px 35px rgba(0,0,0,0.22);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .content-section { display: none; width: 100%; height: 100%; overflow: hidden; padding: 1rem 1.25rem; animation: fadeIn 0.45s ease-out; flex-direction: column; }
        .content-section.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0.5; transform: scale(0.99); } to { opacity: 1; transform: 1; } }
        .section-header { text-align: center; margin-bottom: 0.6rem; flex-shrink: 0; padding-top: 0.25rem; }
        .section-header h2 { font-size: 1.8rem; font-weight: 700; color: #881337; }
        .section-content-wrapper { flex-grow: 1; overflow: hidden; display: flex; flex-direction: column; }
        .sub-nav-tabs { display: flex; justify-content: center; margin-bottom: 0.6rem; flex-shrink: 0; border-bottom: 1px solid #e5e7eb; }
        .sub-nav-tab {
            padding: 0.35rem 0.8rem;
            margin: 0 0.15rem;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            font-weight: 500;
            color: #4b5563;
            font-size: 0.8rem;
            background: none;
            outline: none;
        }
        .sub-nav-tab.active-sub-nav, .sub-nav-tab:hover { color: #881337; border-bottom-color: #881337; }
        .sub-content { display: none; flex-grow: 1; overflow-y: auto; padding: 0.5rem; border-radius: 0.25rem; background-color: rgba(255,255,255,0.7); }
        .sub-content.active-sub-content { display: block; }
        .carousel-container { display: flex; overflow-x: auto; scroll-behavior: smooth; padding: 0.25rem 0 0.75rem 0; -webkit-overflow-scrolling: touch; flex-shrink: 0; }
        .carousel-item { flex: 0 0 auto; width: 270px; margin-right: 0.85rem; background-color: #ffffff; border-radius: 0.5rem; box-shadow: 0 2px 6px rgba(0,0,0,0.1); padding: 0.85rem; }
        .carousel-navigation-wrapper { position:relative; flex-shrink:0; }
        .carousel-nav-btn {
            background-color: rgba(255,255,255,0.85);
            border-radius: 50%;
            width: 30px; height: 30px;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            cursor: pointer; color: #881337;
            position: absolute; top: 50%; transform: translateY(-50%); z-index: 10;
            border: none;
        }
        .action-button {
            background-color: #a80038;
            color: white;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s ease, transform 0.1s ease;
            box-shadow: 0 2px 4px rgba(168, 0, 56, 0.2);
            cursor:pointer;
            border: none;
        }
        .action-button:hover { background-color: #881337; transform: translateY(-1px); }
        .input-field, .textarea-field, .select-field {
            border: 1px solid #ced4da;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            width: 100%;
            margin-bottom: 0.6rem;
            background-color: #fefeff;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.06);
            font-size: 0.875rem;
        }
        .table-wrapper { flex-grow: 1; overflow-y: auto; border: 1px solid #dee2e6; border-radius: 0.375rem;}
        .chart-container { position: relative; width:100%; height:100%; min-height: 180px; }
        .dashboard-metric-card { background-color: white; padding: 0.75rem; border-radius: 0.5rem; box-shadow: 0 2px 5px rgba(0,0,0,0.06); text-align: center; }
        .dashboard-metric-card h3 { color: #a80038; font-size: 0.85rem; margin-bottom: 0.25rem; font-weight: 500; }
        .dashboard-metric-card p { font-size: 1.5rem; color: #374151; }
        .relationship-action-form { background-color: rgba(255,255,255,0.8); padding: 0.85rem; border-radius: 0.5rem; box-shadow: 0 2px 6px rgba(0,0,0,0.08); margin-bottom: 0.85rem; }
        .relationship-action-form h4 { font-size: 1rem; color: #881337; margin-bottom: 0.6rem; font-weight: 600; }
    </style>
</head>
<body>
    <video autoplay muted loop playsinline id="videoBackground">
        <source src="assets/videos/our_moments_placeholder.mp4" type="video/mp4">
        <p>A background video of our special moments is playing here.</p>
    </video>
    <div class="main-container" id="mainContainer">
        <header id="appHeader">
            <div class="container mx-auto px-4 sm:px-6 py-2 flex justify-between items-center">
                <h1 class="text-lg sm:text-xl font-bold text-rose-800" data-i18n="headerTitle"></h1>
                <div class="language-switcher">
                    <button id="lang-en" class="text-xs action-button">EN</button>
                    <button id="lang-xh" class="text-xs action-button">XH</button>
                </div>
            </div>
        </header>
        <nav id="appNav">
            <div class="container mx-auto px-1 sm:px-2 py-1.5 flex items-center">
                <button data-section="overview" class="nav-button active-nav" data-i18n="nav.overview"></button>
                <button data-section="analysisHub" class="nav-button" data-i18n="nav.analysisHub"></button>
                <button data-section="mediaTravelHub" class="nav-button" data-i18n="nav.mediaTravelHub"></button>
                <button data-section="connectResolve" class="nav-button" data-i18n="nav.connectResolve"></button>
                <button data-section="lifesyncFun" class="nav-button" data-i18n="nav.lifesyncFun"></button>
            </div>
        </nav>
        <div class="content-area-wrapper" id="contentAreaWrapper">
            <main class="content-area">
                <!-- Overview Section -->
                <section id="overview" class="content-section active">
                    <div class="section-header">
                        <h2 data-i18n="overview.title"></h2>
                    </div>
                    <div class="section-content-wrapper grid grid-cols-1 lg:grid-cols-5 gap-2.5 h-full">
                        <div class="lg:col-span-2 space-y-2.5 flex flex-col overflow-hidden p-0.5">
                            <div class="bg-white/85 p-2.5 rounded-lg shadow-md flex-shrink-0">
                                <h3 class="text-md font-semibold mb-1.5 text-center text-gray-700" data-i18n="overview.dashboardTitle"></h3>
                                <div class="grid grid-cols-2 gap-2 mb-1.5">
                                    <div class="dashboard-metric-card">
                                        <h3 data-i18n="overview.affectionLevel"></h3>
                                        <p id="affection-metric">--</p>
                                    </div>
                                    <div class="dashboard-metric-card">
                                        <h3 data-i18n="overview.supportScore"></h3>
                                        <p id="support-metric">--</p>
                                    </div>
                                    <div class="dashboard-metric-card">
                                        <h3 data-i18n="overview.foodContribution"></h3>
                                        <p id="food-metric">--</p>
                                    </div>
                                    <div class="dashboard-metric-card">
                                        <h3 data-i18n="overview.safetyFeeling"></h3>
                                        <p id="safety-metric">--</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white/85 p-2.5 rounded-lg shadow-md text-center flex-shrink-0">
                                <h3 class="text-md font-semibold mb-1 text-rose-700" data-i18n="overview.ourSong"></h3>
                                <p class="text-gray-600 mb-1 text-xs" id="specialSongTitle" data-i18n="overview.songName_shaggy"></p>
                                <a href="https://youtu.be/DOcCQ-kC4iE?si=DrJURhh0p86ce7yt" target="_blank" class="action-button !text-xs !py-1 !px-2">
                                    <i class="fas fa-headphones-alt mr-1"></i>
                                    <span data-i18n="overview.listenToSong"></span>
                                </a>
                            </div>
                            <div class="bg-white/85 p-2.5 rounded-lg shadow-md flex-grow overflow-hidden carousel-navigation-wrapper">
                                <h3 class="text-md font-semibold mb-1 text-center text-gray-700" data-i18n="overview.quickTimeline"></h3>
                                <div id="overviewTimelineCarousel" class="carousel-container h-[calc(100%-2rem)]"></div>
                                <button id="overview-timeline-prev" class="carousel-nav-btn prev !w-7 !h-7" aria-label="Previous">
                                    <i class="fas fa-chevron-left text-xs"></i>
                                </button>
                                <button id="overview-timeline-next" class="carousel-nav-btn next !w-7 !h-7" aria-label="Next">
                                    <i class="fas fa-chevron-right text-xs"></i>
                                </button>
                            </div>
                        </div>
                        <div class="lg:col-span-3 flex flex-col space-y-2.5 overflow-hidden p-0.5">
                            <div id="overviewImageCarouselContainer" class="relative h-2/5 w-full rounded-lg shadow-lg overflow-hidden flex-shrink-0">
                                <div id="overviewImageCarousel" class="carousel-container overview-image-carousel h-full"></div>
                                <button id="overview-img-prev" class="carousel-nav-btn prev" aria-label="Previous">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button id="overview-img-next" class="carousel-nav-btn next" aria-label="Next">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="chart-container flex-grow !max-w-none !h-auto bg-white/85 p-2.5 rounded-lg shadow-md">
                                <canvas id="dashboardChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Analysis Hub Section -->
                <section id="analysisHub" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="nav.analysisHub"></h2>
                    </div>
                    <div class="sub-nav-tabs">
                        <button class="sub-nav-tab active-sub-nav" data-subtarget="analysis-tracking" data-i18n="analysisHub.tracking"></button>
                        <button class="sub-nav-tab" data-subtarget="analysis-contributions" data-i18n="analysisHub.contributions"></button>
                        <button class="sub-nav-tab" data-subtarget="analysis-reinforcement" data-i18n="analysisHub.reinforcement"></button>
                    </div>
                    <div class="section-content-wrapper">
                        <div id="analysis-tracking" class="sub-content active-sub-content flex flex-col items-center">
                            <div class="mb-2 text-center flex-shrink-0">
                                <label for="trackingMetricSelect" class="mr-1 font-medium text-gray-700 text-xs" data-i18n="tracking.selectAspect"></label>
                                <select id="trackingMetricSelect" class="select-field w-auto inline-block !py-1 !text-xs"></select>
                            </div>
                            <div class="chart-container w-full flex-grow !bg-white/85 !p-2">
                                <canvas id="trackingChart"></canvas>
                            </div>
                        </div>
                        <div id="analysis-contributions" class="sub-content flex flex-col">
                            <div class="mb-2 text-center flex-shrink-0">
                                <label for="contributionFilterWeek" class="mr-1 font-medium text-gray-700 text-xs" data-i18n="contributions.filterWeek"></label>
                                <select id="contributionFilterWeek" class="select-field w-auto inline-block !py-1 !text-xs"></select>
                            </div>
                            <div class="table-wrapper bg-white/85 shadow-md rounded-lg flex-grow">
                                <table class="min-w-full divide-y divide-gray-200 contribution-table text-xs">
                                    <thead class="sticky top-0 bg-rose-50/90 z-10">
                                        <tr>
                                            <th data-i18n="contributions.table.parameter"></th>
                                            <th data-i18n="contributions.table.salatiso"></th>
                                            <th data-i18n="contributions.table.tee"></th>
                                            <th data-i18n="contributions.table.details"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="contributionsTableBody"></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="analysis-reinforcement" class="sub-content flex flex-col">
                            <div class="table-wrapper bg-white/85 shadow-md rounded-lg flex-grow">
                                <table class="min-w-full divide-y divide-gray-200 contribution-table text-xs">
                                    <thead class="sticky top-0 bg-rose-50/90 z-10">
                                        <tr>
                                            <th data-i18n="reinforcement.table.wordAction"></th>
                                            <th data-i18n="reinforcement.table.purpose"></th>
                                            <th data-i18n="reinforcement.table.salatisoOccurrences"></th>
                                            <th data-i18n="reinforcement.table.teeOccurrences"></th>
                                            <th data-i18n="reinforcement.table.jointOccurrences"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="reinforcementTableBody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- Media & Travel Hub Section -->
                <section id="mediaTravelHub" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="nav.mediaTravelHub"></h2>
                    </div>
                    <div class="sub-nav-tabs">
                        <button class="sub-nav-tab active-sub-nav" data-subtarget="media-songs" data-i18n="mediaTravelHub.songs"></button>
                        <button class="sub-nav-tab" data-subtarget="media-gallery" data-i18n="mediaTravelHub.gallery"></button>
                        <button class="sub-nav-tab" data-subtarget="media-travel" data-i18n="mediaTravelHub.travel"></button>
                    </div>
                    <div class="section-content-wrapper">
                        <div id="media-songs" class="sub-content active-sub-content">
                            <!-- Songs playlist or list goes here -->
                            <p data-i18n="mediaTravelHub.songsPlaceholder"></p>
                        </div>
                        <div id="media-gallery" class="sub-content">
                            <!-- Gallery carousel or grid goes here -->
                            <p data-i18n="mediaTravelHub.galleryPlaceholder"></p>
                        </div>
                        <div id="media-travel" class="sub-content">
                            <!-- Travel map or list goes here -->
                            <p data-i18n="mediaTravelHub.travelPlaceholder"></p>
                        </div>
                    </div>
                </section>
                <!-- Connect & Resolve Section -->
                <section id="connectResolve" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="nav.connectResolve"></h2>
                    </div>
                    <div class="section-content-wrapper">
                        <!-- Add your connect & resolve forms, chat, or content here -->
                        <p data-i18n="connectResolve.placeholder"></p>
                    </div>
                </section>
                <!-- LifeSync & Fun Section -->
                <section id="lifesyncFun" class="content-section">
                    <div class="section-header">
                        <h2 data-i18n="nav.lifesyncFun"></h2>
                    </div>
                    <div class="section-content-wrapper">
                        <!-- Add your fun activities, games, or calendar here -->
                        <p data-i18n="lifesyncFun.placeholder"></p>
                    </div>
                </section>
            </main>
        </div>
    </div>
    <!-- Placeholder for modal, playlist, etc. -->
    <div id="modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close" id="modalCloseBtn">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>
    <!-- You would add your JavaScript here to handle navigation, language switching, carousel, etc. -->
    <script>
        // Minimal navigation logic for demonstration
        document.querySelectorAll('.nav-button').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.nav-button').forEach(b => b.classList.remove('active-nav'));
                this.classList.add('active-nav');
                document.querySelectorAll('.content-section').forEach(sec => sec.classList.remove('active'));
                document.getElementById(this.getAttribute('data-section')).classList.add('active');
            });
        });
        // Sub-nav logic (per section)
        document.querySelectorAll('.sub-nav-tabs').forEach(tabBar => {
            tabBar.querySelectorAll('.sub-nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    tabBar.querySelectorAll('.sub-nav-tab').forEach(t => t.classList.remove('active-sub-nav'));
                    this.classList.add('active-sub-nav');
                    let section = tabBar.parentElement;
                    section.querySelectorAll('.sub-content').forEach(sub => sub.classList.remove('active-sub-content'));
                    section.querySelector('#' + this.getAttribute('data-subtarget')).classList.add('active-sub-content');
                });
            });
        });
        // Language switching placeholder
        document.getElementById('lang-en').onclick = function() { /* i18n logic here */ };
        document.getElementById('lang-xh').onclick = function() { /* i18n logic here */ };
    </script>
</body>
</html>
